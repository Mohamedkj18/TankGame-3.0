# Tanks Game 3.0 ‚Äî Assignment 3

**Course:** Advanced Topics in Programming, TAU ‚Äî Semester B 2025  
**Students:**

- WaedIraki ‚Äî 212497127
- MohamedJ ‚Äî 212788293

---

## üì¶ Project Structure

The submission contains 6 folders:

- **Simulator/** ‚Äî Runs multiple games in comparative or competition mode.
- **Algorithm/** ‚Äî Our tank algorithms and players. Compiles into `Algorithm_<id1>_<id2>.(so|dylib)`.
- **GameManager/** ‚Äî Manages a single game. Compiles into `GameManager_<id1>_<id2>.(so|dylib)`.
- **common/** ‚Äî Provided by course staff (unchanged).
- **UserCommon/** ‚Äî Shared helper code (namespaced `UserCommon_<id1>_<id2>`).
- **tankgame-visualizer/** ‚Äî Bonus React + Tailwind app for game visualization.

At the root:

- `Makefile` (builds all 3 C++ subprojects)
- `students.txt`
- `README.md`

---

## ‚öôÔ∏è Build Instructions

To build everything (Simulator, Algorithm, GameManager):

```bash
make
```

To build individually:

```bash
make -C Simulator
make -C Algorithm
make -C GameManager
```

To clean build artifacts:

```bash
make veryclean
```

---

## ‚ñ∂Ô∏è Run Instructions (Simulator)

### Comparative Mode

```bash
./Simulator/simulator_<id1>_<id2>   -comparative   game_map=<map_file>   game_managers_folder=GameManager   algorithm1=Algorithm/Algorithm_<id1>_<id2>.(so|dylib)   algorithm2=Algorithm/Algorithm_<id1>_<id2>.(so|dylib)   [num_threads=N] [-verbose]
```

### Competition Mode

```bash
./Simulator/simulator_<id1>_<id2>   -competition   game_maps_folder=<maps_folder>   game_manager=GameManager/GameManager_<id1>_<id2>.(so|dylib)   algorithms_folder=Algorithm   [num_threads=N] [-verbose]
```

---

## üß† Implementation Notes

- **Algorithm:**

  - Implements **four specialized roles**:
    - **Chaser** ‚Äî aggressively hunts enemy tanks.
    - **Defender** ‚Äî protects friendly tanks and strategic positions.
    - **Evasior** ‚Äî avoids enemy fire and survives under pressure.
    - **Breacher** ‚Äî pushes into enemy territory and breaks defenses.
  - Minimal requirements covered: avoids shooting own tanks, shoots enemies when possible, moves under shell threat.

- **GameManager:**

  - Implements the `AbstractGameManager` interface from `common/`.
  - Runs a single game with two players and their tank algorithms.
  - Handles game termination conditions: **ALL_TANKS_DEAD**, **MAX_STEPS**, and **ZERO_SHELLS**.
  - Produces detailed output files in the same format as Assignment 2 when `-verbose` is provided.
  - Performs basic map validation before starting and reports errors clearly.
  - Designed so that multiple GameManagers can be run side-by-side by the Simulator.

- **Simulator:**
  - Supports both **comparative** and **competition** modes.
  - Uses multithreading controlled by `num_threads`.
  - Dynamically loads `.so` files using `dlopen` and unloads them with `dlclose` at shutdown.

---

## üìù Known Issues / Limitations

- [Fill in if any edge cases are not fully handled]
- Example: map validation assumes input format is correct.

---

## ‚≠ê Bonus Features

- Role-based algorithm design with multiple strategies (Chaser, Defender, Evasion, Breacher).
- Modular UserCommon helpers for reusing logic across Algorithm and Simulator.
- Threading model optimized to avoid unnecessary locks.

### TankGame Visualizer (Bonus)

- Implemented a `tankgame-visualizer/` React + Tailwind web app.
- Provides a graphical interface to visualize game progress frame by frame.
- Supports loading multiple `.viz.txt` files, skipping rounds, and interactive controls.
- Included in the submission as a bonus feature, separate from the C++ core projects.

---

## üé® How to Run the Visualizer (Bonus)

1. Go to the `tankgame-visualizer/` folder.
2. Install dependencies (requires **Node.js** and **npm**):

   ```bash
   npm install
   npm run dev
   ```

   This will start the development server and give you a local URL (usually http://localhost:5173).

3. The visualizer takes **two folders as input**:

   - **verbose/** ‚Äî contains the verbose output files generated by the GameManager (tank moves, step-by-step logs).
   - **visualization/** ‚Äî contains visualization files for each game run (final maps, round states).

4. **Important:** when uploading folders in the web app, **insert the `verbose` folder first, then the `visualization` folder**.

   - If the order is reversed, the visualizer will not sync the moves correctly with the final game states.

5. Once both folders are loaded, you can:
   - Navigate through rounds frame by frame.
   - Skip forwards/backwards.
   - Stop/resume games.
   - Compare multiple games side-by-side.
